{"ast":null,"code":"import nextConnect from 'next-connect';\nimport AuthenticationMiddleware from \"../../../source/middlewares/AuthenticationMiddleware\";\nimport PostService from '../../../source/services/PostService';\nexport default nextConnect().use((req, res, next) => {\n  console.log(\"custom middleware\");\n  next();\n}).use(AuthenticationMiddleware).get(async (req, res) => {\n  var posts = await PostService.GetAll();\n  res.statusCode = 200;\n  res.json(posts);\n}).post(async (req, res) => {\n  res.statusCode = 200;\n  var post = await PostService.Add(req.body);\n  res.json(post);\n}).delete(async (req, res) => {\n  console.log(req.body.id);\n\n  if (req.body.id == undefined) {\n    res.statusCode = 400;\n  } else {\n    res.statusCode = 200;\n    await PostService.Delete(req.body.id);\n  }\n\n  res.end();\n});","map":null,"metadata":{},"sourceType":"module"}